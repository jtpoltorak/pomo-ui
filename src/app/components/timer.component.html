<div class="flex flex-col items-center justify-center">
  <div
    class="flex flex-row items-center justify-center my-3"
  >
    <button
      type="button"
      [ngClass]="
        selectedPhase === 'work'
          ? 'btn-group-primary-left-clicked'
          : 'btn-group-primary-left'
      "
      (click)="onWorkButtonClick()"
    >
      work
    </button>
    <button
      type="button"
      [ngClass]="
        selectedPhase === 'short break'
          ? 'btn-group-primary-middle-clicked'
          : 'btn-group-primary-middle'
      "
      (click)="onShortBreakButtonClick()"
    >
      short break
    </button>
    <button
      type="button"
      [ngClass]="
        selectedPhase === 'long break'
          ? 'btn-group-primary-right-clicked'
          : 'btn-group-primary-right'
      "
      (click)="onLongBreakButtonClick()"
    >
      long break
    </button>
  </div>
  <div
    class="my-3 font-mono font-bold text-gray-800 text-8xl font-outline-2"
    [ngClass]="
      timerState === timerStates.Paused
        ? 'animate-pulse'
        : 'animate-none'
    "
  >
    <div [ngSwitch]="timerFormat">
      <span *ngSwitchCase="'colon'">
        {{ timeLeft | date: 'mm:ss' }}
      </span>
      <span *ngSwitchCase="'chars'">
        {{ timeLeft | date: 'mm'
        }}<span class="text-6xl">m</span
        >{{ timeLeft | date: 'ss'
        }}<span class="text-6xl">s</span>
      </span>
    </div>
  </div>
  <div
    *ngIf="showProgressBar"
    class="w-60"
  >
    <p-progressBar
      [color]="'#4b5563'"
      [style]="{ border: '2px solid #fff' }"
      [showValue]="false"
      [value]="((timeStart - timeLeft) / timeStart) * 100"
    ></p-progressBar>
  </div>
  <div
    class="flex flex-row items-center justify-center my-3 space-x-2"
  >
    <button
      type="button"
      class="w-24 btn-primary"
      (click)="onStartPauseButtonClick()"
    >
      {{ startPauseButtonText }}
    </button>
    <button
      type="button"
      class="w-24 btn-primary"
      (click)="onResetButtonClick()"
    >
      reset
    </button>
  </div>
  <div
    class="flex flex-row items-center justify-center mt-3 space-x-4"
  >
    <button
      type="button"
      (click)="onMuteButtonClick()"
    >
      <fa-icon [icon]="['fas', 'volume-low']"></fa-icon>
    </button>
    <button
      type="button"
      (click)="onAutoplayButtonClick()"
    >
      <fa-icon [icon]="['fas', 'repeat']"></fa-icon>
    </button>
    <button
      type="button"
      (click)="onSettingsButtonClick()"
    >
      <fa-icon [icon]="['fas', 'sliders']"></fa-icon>
    </button>
    <button
      type="button"
      (click)="onHelpButtonClick()"
      data-hs-overlay="#hs-overlay-right"
    >
      <fa-icon [icon]="['fas', 'question']"></fa-icon>
    </button>
    <button
      type="button"
      (click)="onAboutButtonClick()"
    >
      <fa-icon [icon]="['fas', 'info']"></fa-icon>
    </button>
  </div>
</div>
<hr class="my-6" />
<div
  class="flex flex-row items-center justify-center my-3 text-xs"
>
  &copy; 2023 Paguroidea LLC / all rights reserved
</div>

<p-sidebar
  [(visible)]="isSidebarVisible"
  position="right"
  styleClass="bg-white p-2 text-black"
  [modal]="true"
  [showCloseIcon]="true"
  [autoZIndex]="true"
  [baseZIndex]="99999"
>
  <ng-template pTemplate="header">
    <h2
      [ngSwitch]="currentSidebarComponent"
      class="text-2xl font-bold"
    >
      <span *ngSwitchCase="'settings'">Settings</span>
      <span *ngSwitchCase="'help'">Help</span>
      <span *ngSwitchCase="'about'">About</span>
    </h2>
  </ng-template>
  <ng-template pTemplate="content">
    <div [ngSwitch]="currentSidebarComponent">
      <app-settings
        *ngSwitchCase="'settings'"
        [settings]="settings"
        (settingsChange)="onSettingsChange($event)"
      ></app-settings>
      <app-help *ngSwitchCase="'help'"></app-help>
      <app-about *ngSwitchCase="'about'"></app-about>
    </div>
  </ng-template>
</p-sidebar>
